<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcador FÃºtbol Sala Pro | Liga Escolar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/sport-specific/futbol-sala.css">
</head>
<body class="theme-futbol-sala">
    <div class="container">
        <header class="app-header">
            <div class="location-badge" id="location-display">
                <i class="fas fa-map-marker-alt"></i> <span id="current-location">PabellÃ³n Municipal</span>
                <button onclick="editLocation()"><i class="fas fa-edit"></i></button>
            </div>
            <div class="period-badge" id="period-text">1Âº TIEMPO</div>
        </header>

        <div class="timer-section">
            <div class="main-timer" id="main-timer">20:00</div>
            <div class="timer-controls">
                <button class="btn-timer" id="start-pause-btn" onclick="toggleTimer()">
                    <i class="fas fa-play"></i>
                </button>
                <button class="btn-timer btn-reset" onclick="confirmReset()">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="btn-timer btn-next" onclick="nextPeriod()" title="Siguiente Periodo">
                    <i class="fas fa-step-forward"></i>
                </button>
            </div>
        </div>

        <main class="scoreboard">
            <div class="team team-local">
                <div class="team-name" id="team1-name-display" onclick="editTeamName('team1')">EQUIPO LOCAL</div>
                <div class="score" id="team1-score">0</div>
                <div class="score-controls">
                    <button class="btn-score add" onclick="addGoal('team1')">+</button>
                    <button class="btn-score sub" onclick="changeScore('team1', -1)">-</button>
                </div>
                <div class="team-stats">
                    <div class="stat-item">
                        <span>Faltas</span>
                        <div class="stat-counter" id="team1-fouls">0</div>
                        <button class="btn-stat" onclick="addFoul('team1')">+</button>
                    </div>
                    <div class="stat-item">
                        <span>T. Muertos</span>
                        <div class="stat-counter" id="team1-timeouts">1</div>
                        <button class="btn-stat" id="btn-timeout-team1" onclick="useTimeout('team1')">Uso</button>
                    </div>
                </div>
                <div class="card-buttons">
                    <button class="btn-card yellow" onclick="openCardModal('team1', 'yellow')">ðŸŸ¨</button>
                    <button class="btn-card blue" onclick="openCardModal('team1', 'blue')">ðŸŸ¦</button>
                </div>
            </div>

            <div class="team team-visitor">
                <div class="team-name" id="team2-name-display" onclick="editTeamName('team2')">EQUIPO VISITANTE</div>
                <div class="score" id="team2-score">0</div>
                <div class="score-controls">
                    <button class="btn-score add" onclick="addGoal('team2')">+</button>
                    <button class="btn-score sub" onclick="changeScore('team2', -1)">-</button>
                </div>
                <div class="team-stats">
                    <div class="stat-item">
                        <span>Faltas</span>
                        <div class="stat-counter" id="team2-fouls">0</div>
                        <button class="btn-stat" onclick="addFoul('team2')">+</button>
                    </div>
                    <div class="stat-item">
                        <span>T. Muertos</span>
                        <div class="stat-counter" id="team2-timeouts">1</div>
                        <button class="btn-stat" id="btn-timeout-team2" onclick="useTimeout('team2')">Uso</button>
                    </div>
                </div>
                <div class="card-buttons">
                    <button class="btn-card yellow" onclick="openCardModal('team2', 'yellow')">ðŸŸ¨</button>
                    <button class="btn-card blue" onclick="openCardModal('team2', 'blue')">ðŸŸ¦</button>
                </div>
            </div>
        </main>

        <section class="events-section">
            <h3>Sucesos del Partido</h3>
            <div id="events-list" class="events-list">
                </div>
        </section>

        <footer class="action-footer">
            <button class="btn-action share" onclick="shareResult()">
                <i class="fab fa-whatsapp"></i> Compartir
            </button>
            <button class="btn-action save" onclick="forceSave()">
                <i class="fas fa-save"></i> Guardar Historial
            </button>
        </footer>
    </div>

    <div id="card-modal" class="modal">
        <div class="modal-content">
            <h2 id="card-modal-title">Registrar Tarjeta</h2>
            <input type="number" id="card-player-number" placeholder="Dorsal del jugador">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeModal('card-modal')">Cancelar</button>
                <button class="btn-confirm" onclick="processCard()">Confirmar</button>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script src="../js/celebrate.js"></script>
    <script src="../js/storage.js"></script>
    <script src="../js/futbol-sala.js"></script>
</body>
</html>
