<!DOCTYPE html>
<html lang="es">
<head>
    <script src="../js/ads-analytics.js"></script>     
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>Marcador de Fútbol Sala con Cronómetro | Liga Escolar</title>
    <meta name="description" content="Marcador digital para fútbol sala con cronómetro, tiempos, prórroga y control de goles. Ideal para torneos escolares.">
    <link rel="canonical" href="https://www.ligaescolar.es/futbol-sala/">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/themes.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/header-with-bg.css">
    <link rel="stylesheet" href="../css/sport-specific/futbol-sala.css">
    <style>
        body { background: linear-gradient(135deg, #1a5276, #27ae60); color: #ecf0f1; min-height: 100vh; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
    </style>
</head>
<body class="theme-futbol-sala">
    <a href="/" class="floating-home-btn" title="Volver al inicio"><i class="fas fa-home"></i></a>
    
    <div class="container">
        <header class="app-header">
            <div class="header-bg"><img src="/imagenes/pizarra.png" alt="Fondo" class="header-bg-image"></div>
            <div class="header-content">
                <div class="header-left">
                    <h1><i class="fas fa-futbol"></i> Marcador de Fútbol Sala</h1>
                    <p class="subtitle">Liga Escolar - <span id="current-location">No especificada</span></p>
                    <div class="input-group">
                        <input type="text" id="match-location-input" placeholder="Ubicación">
                        <button class="btn btn-small" id="save-location"><i class="fas fa-check"></i></button>
                    </div>
                </div>
                <div class="header-right">
                    <div class="clock-container clock-container-futbol-sala">
                        <div id="clock">00:00:00</div>
                        <div id="date">--/--/----</div>
                    </div>
                </div>
            </div>
        </header>

        <div class="match-info-futbol-sala">
            <div class="match-info-item"><span class="info-label">Periodo:</span> <span class="info-value" id="current-period">1° Tiempo</span></div>
            <div class="match-info-item"><span class="info-label">Tiempo:</span> <span class="info-value" id="match-timer">20:00</span></div>
            <div class="match-info-item"><span class="info-label">Estado:</span> <span class="info-value" id="match-status">No iniciado</span></div>
        </div>

        <div class="timer-container">
            <div class="main-timer" id="main-timer">20:00</div>
            <div class="period-info" id="period-info">1° Tiempo</div>
        </div>

        <div class="control-group">
            <div class="time-controls">
                <button class="btn-icon btn-timer-start" id="start-timer"><i class="fas fa-play"></i><span>Iniciar</span></button>
                <button class="btn-icon btn-timer-pause" id="pause-timer"><i class="fas fa-pause"></i><span>Pausar</span></button>
                <button class="btn-icon btn-timer-reset" id="reset-timer"><i class="fas fa-redo-alt"></i><span>Reiniciar</span></button>
                <button class="btn-icon btn-next-period" id="next-period"><i class="fas fa-forward"></i><span>Siguiente</span></button>
                <button class="btn-icon btn-finish-time" id="finish-time"><i class="fas fa-stop"></i><span>Finalizar</span></button>
            </div>
        </div>

        <div class="scoreboard-futbol-sala">
            <div class="team-futbol-sala" id="team1">
                <div class="team-name-futbol-sala editable" data-team="1" id="team1-name">Equipo Local</div>
                <div class="score-futbol-sala" id="team1-score">0</div>
                <div class="cards-info">
                    <div class="cards-section">
                        <span>A: <span id="team1-yellow-cards">0</span></span>
                        <button class="btn btn-small btn-yellow" id="team1-add-yellow"><i class="fas fa-square"></i></button>
                        <button class="btn btn-small" id="team1-remove-yellow"><i class="fas fa-minus"></i></button>
                    </div>
                    <div class="cards-section">
                        <span>Az: <span id="team1-blue-cards">0</span></span>
                        <button class="btn btn-small btn-blue" id="team1-add-blue"><i class="fas fa-square"></i></button>
                        <button class="btn btn-small" id="team1-remove-blue"><i class="fas fa-minus"></i></button>
                    </div>
                </div>
                <div class="team-info">
                    <div class="fouls-info">Faltas: <span id="team1-fouls">0</span> 
                        <button class="btn btn-small" id="team1-add-foul">+</button>
                    </div>
                    <div class="timeouts-info">T.O: <span id="team1-timeouts">1</span>
                        <button class="btn btn-small" id="team1-add-timeout">+</button>
                    </div>
                </div>
                <div class="score-controls"><button class="btn btn-primary" id="team1-add-goal">+ GOL</button></div>
                <div class="expulsions-list" id="team1-expulsions"></div>
            </div>

            <div class="team-futbol-sala" id="team2">
                <div class="team-name-futbol-sala editable" data-team="2" id="team2-name">Equipo Visitante</div>
                <div class="score-futbol-sala" id="team2-score">0</div>
                <div class="cards-info">
                    <div class="cards-section">
                        <span>A: <span id="team2-yellow-cards">0</span></span>
                        <button class="btn btn-small btn-yellow" id="team2-add-yellow"><i class="fas fa-square"></i></button>
                        <button class="btn btn-small" id="team2-remove-yellow"><i class="fas fa-minus"></i></button>
                    </div>
                    <div class="cards-section">
                        <span>Az: <span id="team2-blue-cards">0</span></span>
                        <button class="btn btn-small btn-blue" id="team2-add-blue"><i class="fas fa-square"></i></button>
                        <button class="btn btn-small" id="team2-remove-blue"><i class="fas fa-minus"></i></button>
                    </div>
                </div>
                <div class="team-info">
                    <div class="fouls-info">Faltas: <span id="team2-fouls">0</span> 
                        <button class="btn btn-small" id="team2-add-foul">+</button>
                    </div>
                    <div class="timeouts-info">T.O: <span id="team2-timeouts">1</span>
                        <button class="btn btn-small" id="team2-add-timeout">+</button>
                    </div>
                </div>
                <div class="score-controls"><button class="btn btn-primary" id="team2-add-goal">+ GOL</button></div>
                <div class="expulsions-list" id="team2-expulsions"></div>
            </div>
        </div>

        <div class="modal" id="card-modal">
            <div class="modal-content">
                <h2 id="card-modal-title">Registrar Tarjeta</h2>
                <div class="form-group">
                    <label>Número Jugador:</label>
                    <input type="number" id="card-player-number" placeholder="Ej: 10">
                </div>
                <div class="form-group">
                    <label>Motivo:</label>
                    <input type="text" id="card-reason" placeholder="Opcional">
                </div>
                <div class="modal-buttons">
                    <button class="btn btn-secondary" id="cancel-card">Cancelar</button>
                    <button class="btn btn-primary" id="save-card">Guardar</button>
                </div>
            </div>
        </div>

        <div class="match-history-section">
            <div class="history-header">
                <h2><i class="fas fa-list-ul"></i> Eventos del Partido</h2>
            </div>
            <div id="events-list" class="events-list"></div>
        </div>

        <div class="match-history-section">
            <div class="history-header">
                <h2><i class="fas fa-history"></i> Últimos Partidos</h2>
                <button class="btn btn-small btn-danger" id="clear-history">Borrar Todo</button>
            </div>
            <div id="history-list"></div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-success" id="save-match">Guardar Partido</button>
            <button class="btn btn-info" onclick="copyShareText()">Compartir Resultado</button>
            <button class="btn btn-warning" id="reset-match">Reiniciar Todo</button>
        </div>
    </div>

    <script src="../js/clock.js"></script>
    <script src="../js/celebrate.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/storage.js"></script>
    <script src="../js/match-core.js"></script>
    <script src="../js/modal-manager.js"></script>
    <script src="../js/futbol-sala.js"></script>
</body>
</html>
